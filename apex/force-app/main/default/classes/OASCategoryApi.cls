/*
 * Keepa API
 * The Keepa API offers numerous endpoints.  Every request requires your API access key as a parameter. You can find and change your key in the keepa portal. All requests must be issued as a HTTPS GET and accept gzip encoding. If possible, use a Keep-Alive connection.  Multiple requests can be made in parallel to increase throughput.
 *
 * OpenAPI spec version: 1.0.0
 * Contact: info@keepa.com
 *
 * NOTE: This class is auto generated by the OAS code generator program.
 * https://github.com/OAS-api/OAS-codegen.git
 * Do not edit the class manually.
 */

public class OASCategoryApi {
    OASClient client;

    public OASCategoryApi(OASClient client) {
        this.client = client;
    }

    public OASCategoryApi() {
        this.client = new OASClient();
    }

    public OASClient getClient() {
        return this.client;
    }

    /**
     * Returns Amazon category information from Keepa API.
     * Retrieve category objects using their node ids and (optional) their parent tree.
     * @param key Your private API key. (required)
     * @param domain Integer value for the Amazon locale you want to access. (1-com, 2-co.uk, 3-de, 4-fr, 5-co.jp, 6-ca, 7-cn, 8-it, 9-es, 10-in, 11-com.mx, 12-com.br, 13-com.au) (required)
     * @param category The category node id of the category you want to request. For batch requests a comma separated list of ids (up to 10, the token cost stays the same). Alternatively you can specify the value 0, which will retrieve a list of all root categories. (required)
     * @param parents Whether or not to include the category tree for each category. (1 &#x3D; include, 0 &#x3D; do not include.) (required)
     * @return List<OASCategory>
     * @throws OAS.ApiException if fails to make API call
     */
    public List<OASCategory> category(Map<String, Object> params) {
        client.assertNotNull(params.get('key'), 'key');
        client.assertNotNull(params.get('domain'), 'domain');
        client.assertNotNull(params.get('category'), 'category');
        client.assertNotNull(params.get('parents'), 'parents');
        List<OAS.Param> query = new List<OAS.Param>();

        // cast query params to verify their expected type
        query.addAll(client.makeParam('key', (String) params.get('key')));
        query.addAll(client.makeParam('domain', (Integer) params.get('domain')));
        query.addAll(client.makeParam('category', (Integer) params.get('category')));
        query.addAll(client.makeParam('parents', (Integer) params.get('parents')));

        List<OAS.Param> form = new List<OAS.Param>();

        return (List<OASCategory>) client.invoke(
            'GET', '/category', '',
            query, form,
            new Map<String, Object>(),
            new Map<String, Object>(),
            new List<String>{ 'application/json' },
            new List<String>(),
            new List<String>(),
            List<OASCategory>.class
        );
    }
}
