{-
   Keepa API
   The Keepa API offers numerous endpoints.  Every request requires your API access key as a parameter. You can find and change your key in the keepa portal. All requests must be issued as a HTTPS GET and accept gzip encoding. If possible, use a Keep-Alive connection.  Multiple requests can be made in parallel to increase throughput.

   OpenAPI spec version: 1.0.0
   Contact: info@keepa.com

   NOTE: This file is auto generated by the openapi-generator.
   https://github.com/openapitools/openapi-generator.git
   Do not edit this file manually.
-}


module Request.Category exposing (category)

import Data.Category as Category exposing (Category)
import Dict
import Http
import Json.Decode as Decode
import Url.Builder as Url


basePath : String
basePath =
    "https://virtserver.swaggerhub.com/magicCashew/keepa/1.0.0"


{-| Retrieve category objects using their node ids and (optional) their parent tree.
-}
category :
    { onSend : Result Http.Error (List Category) -> msg




    , key : String    , domain : Int    , category : Int    , parents : Int
    }
    -> Cmd msg
category params =
    Http.request
        { method = "GET"
        , headers = []
        , url = Url.crossOrigin basePath
            ["category"]
            (List.filterMap identity [Just (Url.string "key"  params.key), Just (Url.string "domain" <| String.fromInt params.domain), Just (Url.string "category" <| String.fromInt params.category), Just (Url.string "parents" <| String.fromInt params.parents)])
        , body = Http.emptyBody
        , expect = Http.expectJson params.onSend (Decode.list Category.decoder)
        , timeout = Just 30000
        , tracker = Nothing
        }
